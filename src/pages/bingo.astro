---
import Layout from "../layouts/Layout.astro";
import background from "../assets/background.svg";
---

<script>
    import Alpine from "alpinejs";
    const params = new URLSearchParams(window.location.search);
    console.log(params.toString());

    document.addEventListener("alpine:init", () => {
        Alpine.data("myGrid", () => ({
            async init() {
                this.items = {
                    christmas: [
                        "Politics",
                        "Religion",
                        "Family arguments",
                        "Financial problems",
                        "Criticism of meal",
                        "Complaints about gifts",
                        "Negative comments",
                        "Divorce",
                        "Health problems",
                        "Work stress",
                        "Controversial events",
                        "Personal grudges",
                        "Criticism of traditions",
                        "Comparisons between family",
                        "Past mistakes",
                        "Negative gossip",
                        "Criticism of the host",
                        "Complaints about travel",
                        "Discussions about wills",
                        "Criticism of children's",
                        "Parenting styles",
                        "Criticism of in-laws",
                        "Discussions laws",
                        "Complaints weather",
                        "Negative comments about holiday",
                        "Criticism of decorations",
                        "Discussions sensitive medical conditions",
                        "Arguments about sports",
                        "Criticism of pets",
                        "Controversial books",
                        "Complaints about music",
                        "Negative comments clothing",
                        "Social issues",
                        "Criticism of holiday plans",
                        "Dietary choices",
                        "Complaints about seating",
                        "The neighborhood",
                        "Controversial technologies",
                        "Criticism of holiday music",
                        "Education methods",
                        "Complaints about family photos",
                        "Negative comments about hobbies",
                        "Controversial historical events",
                        "Home renovations",
                        "Local news",
                        "Controversial celebrities",
                        "Criticism of holiday cards",
                        "Career choices",
                        "Family heirlooms",
                        "Social media",
                        "Controversial art",
                        "Criticism of holiday treats",
                        "Investment choices",
                        "Negative technology use",
                        "Criticism of holiday lights",
                        "Outings",
                        "Environmental issues",
                        "Holiday traditions by other cultures",
                        "Fashion trends",
                        "Family reunions",
                        "Scientific theories",
                        "Criticism of holiday parades",
                        "Exercise routines",
                        "Family vacations",
                        "Public figures",
                        "Controversial economic policies",
                        "Criticism of holiday crafts",
                        "Interior design",
                        "Complaints about family gatherings",
                        "Educational institutions",
                        "Controversial legal cases",
                        "Holiday movies",
                        "Gardening techniques",
                        "Negative comments about cultural events",
                        "Controversial political figures",
                        "Criticism of holiday stories",
                        "Cooking methods",
                        "Family milestone complaints",
                        "Negative local attraction comments",
                        "Controversial social media discussions",
                        "Holiday decor criticism",
                        "Home organization arguments",
                        "Family anniversary complaints",
                        "Negative community service comments",
                        "Controversial global issue discussions",
                        "Holiday song criticism",
                        "Beauty standard arguments",
                        "Family birthday complaints",
                        "Negative public service comments",
                        "Controversial international news discussions",
                        "Holiday ritual criticism",
                        "Personal preference arguments",
                    ],
                    summer_vacation: [
                        "Work stress",
                        "Financial issues",
                        "Political disagreements",
                        "Religious differences",
                        "Past arguments",
                        "Destination complaints",
                        "Accommodation issues",
                        "Travel criticism",
                        "Itinerary arguments",
                        "Culture complaints",
                        "Weather complaints",
                        "Food criticism",
                        "Event discussions",
                        "Personal grudges",
                        "Family comparisons",
                        "Past mistakes",
                        "Negative gossip",
                        "Tradition criticism",
                        "Parenting arguments",
                        "In-law criticism",
                        "Policy discussions",
                        "Travel delays",
                        "Tourist complaints",
                        "Activity criticism",
                        "Dietary arguments",
                        "Transport complaints",
                        "Traveler criticism",
                        "Health discussions",
                        "Sports arguments",
                        "Pet criticism",
                        "Book/movie discussions",
                        "Noise complaints",
                        "Appearance criticism",
                        "Social issues",
                        "Plan criticism",
                        "Education arguments",
                        "Photo complaints",
                        "Hobby criticism",
                        "History discussions",
                        "Greeting criticism",
                        "Renovation arguments",
                        "Game complaints",
                        "News criticism",
                        "Celebrity discussions",
                        "Card criticism",
                        "Career arguments",
                        "Heirloom complaints",
                        "Social media criticism",
                        "Art discussions",
                        "Treat criticism",
                        "Investment arguments",
                        "Recipe complaints",
                        "Tech criticism",
                        "Destination debates",
                        "Light criticism",
                        "Child-rearing arguments",
                        "Outing complaints",
                        "Event criticism",
                        "Environment discussions",
                        "Tradition debates",
                        "Fashion arguments",
                        "Reunion complaints",
                        "Business criticism",
                        "Science discussions",
                        "Parade criticism",
                        "Exercise arguments",
                        "Vacation complaints",
                        "Public figure criticism",
                        "Economic debates",
                        "Craft criticism",
                        "Design arguments",
                        "Gathering complaints",
                        "Education criticism",
                        "Legal debates",
                        "Movie criticism",
                        "Gardening arguments",
                        "Celebration complaints",
                        "Event criticism",
                        "Political debates",
                        "Story criticism",
                        "Cooking arguments",
                        "Milestone complaints",
                        "Attraction criticism",
                        "Social media debates",
                        "Decor criticism",
                        "Organization arguments",
                        "Anniversary complaints",
                        "Service criticism",
                        "Global debates",
                        "Song criticism",
                        "Beauty arguments",
                        "Birthday complaints",
                        "Public service criticism",
                        "International debates",
                        "Ritual criticism",
                        "Preference arguments",
                    ],
                    birthday: [
                        "Work stress",
                        "Financial problems",
                        "Political issues",
                        "Religious differences",
                        "Past arguments",
                        "Birthday person criticism",
                        "Venue complaints",
                        "Plan criticism",
                        "Guest list arguments",
                        "Gift criticism",
                        "Food complaints",
                        "Decoration criticism",
                        "Current event debates",
                        "Personal grudges",
                        "Family comparisons",
                        "Past mistakes",
                        "Negative gossip",
                        "Tradition criticism",
                        "Parenting arguments",
                        "In-law criticism",
                        "Policy discussions",
                        "Music complaints",
                        "Activity criticism",
                        "Theme criticism",
                        "Dietary arguments",
                        "Seating complaints",
                        "Neighborhood criticism",
                        "Health discussions",
                        "Sports arguments",
                        "Pet criticism",
                        "Book/movie debates",
                        "Noise complaints",
                        "Appearance criticism",
                        "Social issue debates",
                        "Schedule criticism",
                        "Education arguments",
                        "Photo complaints",
                        "Hobby criticism",
                        "History debates",
                        "Greeting criticism",
                        "Renovation arguments",
                        "Game complaints",
                        "News criticism",
                        "Celebrity debates",
                        "Card criticism",
                        "Career arguments",
                        "Heirloom complaints",
                        "Social media criticism",
                        "Art debates",
                        "Treat criticism",
                        "Investment arguments",
                        "Recipe complaints",
                        "Tech criticism",
                        "Travel debates",
                        "Light criticism",
                        "Child-rearing arguments",
                        "Outing complaints",
                        "Event criticism",
                        "Environment debates",
                        "Cultural tradition criticism",
                        "Fashion arguments",
                        "Reunion complaints",
                        "Business criticism",
                        "Science debates",
                        "Parade criticism",
                        "Exercise arguments",
                        "Vacation complaints",
                        "Public figure criticism",
                        "Economic debates",
                        "Craft criticism",
                        "Design arguments",
                        "Gathering complaints",
                        "Education criticism",
                        "Legal debates",
                        "Movie criticism",
                        "Gardening arguments",
                        "Celebration complaints",
                        "Cultural event criticism",
                        "Political figure debates",
                        "Story criticism",
                        "Cooking arguments",
                        "Milestone complaints",
                        "Attraction criticism",
                        "Social media debates",
                        "Decor criticism",
                        "Organization arguments",
                        "Anniversary complaints",
                        "Service criticism",
                        "Global debates",
                        "Song criticism",
                        "Beauty arguments",
                        "Birthday complaints",
                        "Public service criticism",
                        "International debates",
                        "Ritual criticism",
                        "Preference arguments",
                    ],
                    Thanksgiving: [
                        "Politics",
                        "Religious differences",
                        "Past arguments",
                        "Work stress",
                        "Financial problems",
                        "Meal criticism",
                        "Family complaints",
                        "Host criticism",
                        "Event debates",
                        "Personal grudges",
                        "Family comparisons",
                        "Past mistakes",
                        "Negative gossip",
                        "Tradition criticism",
                        "Parenting arguments",
                        "In-law criticism",
                        "Policy discussions",
                        "Weather complaints",
                        "Holiday criticism",
                        "Decoration criticism",
                        "Health discussions",
                        "Sports arguments",
                        "Pet criticism",
                        "Book/movie debates",
                        "Noise complaints",
                        "Appearance criticism",
                        "Social issue debates",
                        "Plan criticism",
                        "Dietary arguments",
                        "Seating complaints",
                        "Neighborhood criticism",
                        "Technology debates",
                        "Music criticism",
                        "Education arguments",
                        "Photo complaints",
                        "Hobby criticism",
                        "History debates",
                        "Greeting criticism",
                        "Renovation arguments",
                        "Game complaints",
                        "News criticism",
                        "Celebrity debates",
                        "Card criticism",
                        "Career arguments",
                        "Heirloom complaints",
                        "Social media criticism",
                        "Art debates",
                        "Treat criticism",
                        "Investment arguments",
                        "Recipe complaints",
                        "Tech criticism",
                        "Travel debates",
                        "Light criticism",
                        "Child-rearing arguments",
                        "Outing complaints",
                        "Event criticism",
                        "Environment debates",
                        "Cultural tradition criticism",
                        "Fashion arguments",
                        "Reunion complaints",
                        "Business criticism",
                        "Science debates",
                        "Parade criticism",
                        "Exercise arguments",
                        "Vacation complaints",
                        "Public figure criticism",
                        "Economic debates",
                        "Craft criticism",
                        "Design arguments",
                        "Gathering complaints",
                        "Education criticism",
                        "Legal debates",
                        "Movie criticism",
                        "Gardening arguments",
                        "Celebration complaints",
                        "Cultural event criticism",
                        "Political figure debates",
                        "Story criticism",
                        "Cooking arguments",
                        "Milestone complaints",
                        "Attraction criticism",
                        "Social media debates",
                        "Decor criticism",
                        "Organization arguments",
                        "Anniversary complaints",
                        "Service criticism",
                        "Global debates",
                        "Song criticism",
                        "Beauty arguments",
                        "Birthday complaints",
                        "Public service criticism",
                        "International debates",
                        "Ritual criticism",
                        "Preference arguments",
                        "Thanksgiving history debates",
                        "Thanksgiving food criticism",
                        "Thanksgiving travel arguments",
                        "Thanksgiving traffic complaints",
                        "Thanksgiving parade criticism",
                        "Thanksgiving tradition debates",
                    ],
                    easter: [
                        "Politics",
                        "Religious debates",
                        "Past arguments",
                        "Work stress",
                        "Financial problems",
                        "Meal criticism",
                        "Family complaints",
                        "Tradition criticism",
                        "Event debates",
                        "Personal grudges",
                        "Family comparisons",
                        "Past mistakes",
                        "Negative gossip",
                        "Custom criticism",
                        "Parenting arguments",
                        "In-law criticism",
                        "Policy debates",
                        "Weather complaints",
                        "Holiday criticism",
                        "Decoration criticism",
                        "Health discussions",
                        "Sports arguments",
                        "Pet criticism",
                        "Book/movie debates",
                        "Noise complaints",
                        "Appearance criticism",
                        "Social issue debates",
                        "Plan criticism",
                        "Dietary arguments",
                        "Seating complaints",
                        "Neighborhood criticism",
                        "Technology debates",
                        "Music criticism",
                        "Education arguments",
                        "Photo complaints",
                        "Hobby criticism",
                        "History debates",
                        "Greeting criticism",
                        "Renovation arguments",
                        "Game complaints",
                        "News criticism",
                        "Celebrity debates",
                        "Card criticism",
                        "Career arguments",
                        "Heirloom complaints",
                        "Social media criticism",
                        "Art debates",
                        "Treat criticism",
                        "Investment arguments",
                        "Recipe complaints",
                        "Tech criticism",
                        "Travel debates",
                        "Light criticism",
                        "Child-rearing arguments",
                        "Outing complaints",
                        "Event criticism",
                        "Environment debates",
                        "Cultural tradition criticism",
                        "Fashion arguments",
                        "Reunion complaints",
                        "Business criticism",
                        "Science debates",
                        "Parade criticism",
                        "Exercise arguments",
                        "Vacation complaints",
                        "Public figure criticism",
                        "Economic debates",
                        "Craft criticism",
                        "Design arguments",
                        "Gathering complaints",
                        "Education criticism",
                        "Legal debates",
                        "Movie criticism",
                        "Gardening arguments",
                        "Celebration complaints",
                        "Cultural event criticism",
                        "Political figure debates",
                        "Story criticism",
                        "Cooking arguments",
                        "Milestone complaints",
                        "Attraction criticism",
                        "Social media debates",
                        "Decor criticism",
                        "Organization arguments",
                        "Anniversary complaints",
                        "Service criticism",
                        "Global debates",
                        "Song criticism",
                        "Beauty arguments",
                        "Birthday complaints",
                        "Public service criticism",
                        "International debates",
                        "Ritual criticism",
                        "Preference arguments",
                        "History debates",
                        "Egg hunt criticism",
                        "Travel arguments",
                        "Traffic complaints",
                        "Parade criticism",
                        "Tradition debates",
                        "Church criticism",
                        "Bonnets arguments",
                        "Basket complaints",
                        "Candy criticism",
                        "Symbol debates",
                    ],
                };
                this.occasion = params.get("occasion") || "";
            },
            get getItems() {
                // Shuffle array
                const shuffled = this.items[this.occasion].sort(
                    () => 0.5 - Math.random(),
                );
                const index = 12;
                // Get sub-array of first n elements after shuffled
                let selected = shuffled.slice(0, 24);
                const fullSelected = [
                    ...selected.slice(0, index),
                    "Free",
                    ...selected.slice(index),
                ];
                return fullSelected;
            },
        }));
    });
</script>
<Layout>
    <div id="container">
        <img id="background" src={background.src} alt="" fetchpriority="high" />
        <main>
            <div class="flex justify-center items-center min-h-screen p-4">
                <div
                    class="w-full max-w-2xl rounded-lg shadow-lg overflow-hidden"
                >
                    <div class="bg-transparent p-4 text-black text-center">
                        <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold">
                            BINGO
                        </h1>
                    </div>
                    <div x-data="myGrid" class="grid grid-cols-5 gap-1 p-4">
                        <template x-for="item in getItems">
                            <div
                                x-data="{ open: false }"
                                x-on:click="open = !open"
                                class="aspect-square flex h-min items-center justify-center border-2 border-gray-700 rounded"
                            >
                                <p
                                    x-show="!open"
                                    x-text="item"
                                    class="text-xs md:text-sm xl:text-xl text-center"
                                >
                                </p>
                                <p x-show="open">X</p>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
        </main>
    </div>
</Layout>

<style>
    #background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        filter: blur(100px);
    }
    main {
        height: 100%;
        display: flex;
        justify-content: center;
    }
    #container {
        font-family: Inter, Roboto, "Helvetica Neue", "Arial Nova",
            "Nimbus Sans", Arial, sans-serif;
        height: 100%;
    }
</style>
